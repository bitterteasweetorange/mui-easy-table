"use strict";(self.webpackChunkmui_easy_table=self.webpackChunkmui_easy_table||[]).push([[153],{"./src/ColumnManage/index.stories.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{Defalut:()=>Defalut,__namedExportsOrder:()=>__namedExportsOrder,default:()=>__WEBPACK_DEFAULT_EXPORT__});var react_utils_ts__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/.pnpm/react-utils-ts@0.1.2_react@18.2.0/node_modules/react-utils-ts/dist/index.js"),_ColumnManage__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./src/ColumnManage/index.tsx"),_stories_mock__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./src/stories/mock.tsx"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/.pnpm/react@18.2.0/node_modules/react/jsx-runtime.js");const __WEBPACK_DEFAULT_EXPORT__={title:"component/ColumnManage",component:_ColumnManage__WEBPACK_IMPORTED_MODULE_1__.$},Defalut=()=>{const hideListIO=(0,react_utils_ts__WEBPACK_IMPORTED_MODULE_0__.useIO)(["name.lastName"]);return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(_ColumnManage__WEBPACK_IMPORTED_MODULE_1__.$,{hideListIO,columns:_stories_mock__WEBPACK_IMPORTED_MODULE_2__.z})};Defalut.displayName="Defalut",Defalut.parameters={...Defalut.parameters,docs:{...Defalut.parameters?.docs,source:{originalSource:"() => {\n  const hideListIO = useIO<(Path<MockShape> | 'actions')[]>(['name.lastName']);\n  return <ColumnManage<MockShape> hideListIO={hideListIO} columns={columns}></ColumnManage>;\n}",...Defalut.parameters?.docs?.source}}};const __namedExportsOrder=["Defalut"]},"./src/ColumnManage/index.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{$:()=>ColumnManage});var ViewWeekRounded=__webpack_require__("./node_modules/.pnpm/@mui+icons-material@5.11.11_@mui+material@5.11.13_@types+react@18.2.8_react@18.2.0/node_modules/@mui/icons-material/esm/ViewWeekRounded.js"),Button=__webpack_require__("./node_modules/.pnpm/@mui+material@5.11.13_@emotion+react@11.11.1_@emotion+styled@11.11.0_@types+react@18.2.8_react-dom@18.2.0_react@18.2.0/node_modules/@mui/material/Button/Button.js"),Box=__webpack_require__("./node_modules/.pnpm/@mui+material@5.11.13_@emotion+react@11.11.1_@emotion+styled@11.11.0_@types+react@18.2.8_react-dom@18.2.0_react@18.2.0/node_modules/@mui/material/Box/Box.js"),Switch=__webpack_require__("./node_modules/.pnpm/@mui+material@5.11.13_@emotion+react@11.11.1_@emotion+styled@11.11.0_@types+react@18.2.8_react-dom@18.2.0_react@18.2.0/node_modules/@mui/material/Switch/Switch.js"),react=__webpack_require__("./node_modules/.pnpm/react@18.2.0/node_modules/react/index.js"),dist=__webpack_require__("./node_modules/.pnpm/react-utils-ts@0.1.2_react@18.2.0/node_modules/react-utils-ts/dist/index.js"),EasyPopper=__webpack_require__("./src/component/EasyPopper.tsx"),jsx_runtime=__webpack_require__("./node_modules/.pnpm/react@18.2.0/node_modules/react/jsx-runtime.js");function ColumnManage(props){const{columns,hideListIO}=props,openIO=(0,dist.useIO)(!1),anchorRef=react.useRef(null);return(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[(0,jsx_runtime.jsx)(Button.Z,{variant:"text",onClick:()=>{openIO.onChange((state=>!state))},ref:anchorRef,startIcon:(0,jsx_runtime.jsx)(ViewWeekRounded.Z,{}),children:"Columns"}),(0,jsx_runtime.jsx)(EasyPopper.G,{anchorRef,openIO,children:(0,jsx_runtime.jsx)(Box.Z,{p:2,children:columns.map((col=>(0,jsx_runtime.jsxs)(Box.Z,{children:[(0,jsx_runtime.jsx)(Switch.Z,{checked:!hideListIO.value?.includes(col.path),onChange:e=>{const next=e.target.checked;hideListIO.onChange((pre=>next?pre.filter((path=>path!==col.path)):[...pre,col.path]))}}),col.headerName]},col.path)))})})]})}try{ColumnManage.displayName="ColumnManage",ColumnManage.__docgenInfo={description:"",displayName:"ColumnManage",props:{columns:{defaultValue:null,description:"",name:"columns",required:!0,type:{name:"EasyColumnProps<Row>[]"}},hideListIO:{defaultValue:null,description:"",name:"hideListIO",required:!0,type:{name:'UseIOReturn<("actions" | Path<Row>)[]>'}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/ColumnManage/index.tsx#ColumnManage"]={docgenInfo:ColumnManage.__docgenInfo,name:"ColumnManage",path:"src/ColumnManage/index.tsx#ColumnManage"})}catch(__react_docgen_typescript_loader_error){}},"./src/component/EasyPopper.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{G:()=>EasyPopper});var _mui_material__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/.pnpm/@mui+material@5.11.13_@emotion+react@11.11.1_@emotion+styled@11.11.0_@types+react@18.2.8_react-dom@18.2.0_react@18.2.0/node_modules/@mui/material/Popper/Popper.js"),_mui_material__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/.pnpm/@mui+material@5.11.13_@emotion+react@11.11.1_@emotion+styled@11.11.0_@types+react@18.2.8_react-dom@18.2.0_react@18.2.0/node_modules/@mui/material/Grow/Grow.js"),_mui_material__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./node_modules/.pnpm/@mui+material@5.11.13_@emotion+react@11.11.1_@emotion+styled@11.11.0_@types+react@18.2.8_react-dom@18.2.0_react@18.2.0/node_modules/@mui/material/Paper/Paper.js"),_mui_material__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./node_modules/.pnpm/@mui+base@5.0.0-alpha.121_@types+react@18.2.8_react-dom@18.2.0_react@18.2.0/node_modules/@mui/base/ClickAwayListener/ClickAwayListener.js"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__=(__webpack_require__("./node_modules/.pnpm/react@18.2.0/node_modules/react/index.js"),__webpack_require__("./node_modules/.pnpm/react@18.2.0/node_modules/react/jsx-runtime.js"));function EasyPopper({children,anchorRef,openIO}){const handleClose=event=>{anchorRef.current&&anchorRef.current.contains(event.target)||openIO.onChange(!1)};return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_mui_material__WEBPACK_IMPORTED_MODULE_2__.Z,{sx:{zIndex:1e3},open:openIO.value,anchorEl:anchorRef.current,transition:!0,disablePortal:!0,children:({TransitionProps,placement})=>(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_mui_material__WEBPACK_IMPORTED_MODULE_3__.Z,{...TransitionProps,style:{transformOrigin:"bottom-start"===placement?"left top":"left bottom"},children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_mui_material__WEBPACK_IMPORTED_MODULE_4__.Z,{children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_mui_material__WEBPACK_IMPORTED_MODULE_5__.Z,{onClickAway:handleClose,children})})})})}EasyPopper.displayName="EasyPopper";try{EasyPopper.displayName="EasyPopper",EasyPopper.__docgenInfo={description:"",displayName:"EasyPopper",props:{anchorRef:{defaultValue:null,description:"",name:"anchorRef",required:!0,type:{name:"RefObject<HTMLButtonElement>"}},openIO:{defaultValue:null,description:"",name:"openIO",required:!0,type:{name:"UseIOReturn<boolean>"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/component/EasyPopper.tsx#EasyPopper"]={docgenInfo:EasyPopper.__docgenInfo,name:"EasyPopper",path:"src/component/EasyPopper.tsx#EasyPopper"})}catch(__react_docgen_typescript_loader_error){}},"./src/stories/mock.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{c:()=>mockData,z:()=>columns});var _faker_js_faker__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/.pnpm/@faker-js+faker@8.0.2/node_modules/@faker-js/faker/dist/esm/index.mjs"),_mui_icons_material__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/.pnpm/@mui+icons-material@5.11.11_@mui+material@5.11.13_@types+react@18.2.8_react@18.2.0/node_modules/@mui/icons-material/esm/FemaleOutlined.js"),_mui_icons_material__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./node_modules/.pnpm/@mui+icons-material@5.11.11_@mui+material@5.11.13_@types+react@18.2.8_react@18.2.0/node_modules/@mui/icons-material/esm/MaleOutlined.js"),_mui_icons_material__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("./node_modules/.pnpm/@mui+icons-material@5.11.11_@mui+material@5.11.13_@types+react@18.2.8_react@18.2.0/node_modules/@mui/icons-material/esm/EditOutlined.js"),_mui_icons_material__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__("./node_modules/.pnpm/@mui+icons-material@5.11.11_@mui+material@5.11.13_@types+react@18.2.8_react@18.2.0/node_modules/@mui/icons-material/esm/DeleteOutline.js"),_mui_lab__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./node_modules/.pnpm/@mui+lab@5.0.0-alpha.134_@emotion+react@11.11.1_@emotion+styled@11.11.0_@mui+material@5.11.13_j5wnlp3oeampzi6pjauevv5yi4/node_modules/@mui/lab/LoadingButton/LoadingButton.js"),_mui_material__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./node_modules/.pnpm/@mui+material@5.11.13_@emotion+react@11.11.1_@emotion+styled@11.11.0_@types+react@18.2.8_react-dom@18.2.0_react@18.2.0/node_modules/@mui/material/Tooltip/Tooltip.js"),_mui_material__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("./node_modules/.pnpm/@mui+material@5.11.13_@emotion+react@11.11.1_@emotion+styled@11.11.0_@types+react@18.2.8_react-dom@18.2.0_react@18.2.0/node_modules/@mui/material/IconButton/IconButton.js"),react__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/.pnpm/react@18.2.0/node_modules/react/index.js"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/.pnpm/react@18.2.0/node_modules/react/jsx-runtime.js");const mockData=new Array(100).fill(null).map(((_,index)=>(_faker_js_faker__WEBPACK_IMPORTED_MODULE_0__.We.seed(index),{id:index,name:{lastName:_faker_js_faker__WEBPACK_IMPORTED_MODULE_0__.We.person.lastName(),firstName:_faker_js_faker__WEBPACK_IMPORTED_MODULE_0__.We.person.firstName()},money:_faker_js_faker__WEBPACK_IMPORTED_MODULE_0__.We.number.int({min:1e3,max:2e4}),gender:_faker_js_faker__WEBPACK_IMPORTED_MODULE_0__.We.person.sexType()}))),columns=[{path:"id",headerName:"ID"},{path:"name.firstName",width:200,headerName:"FirstName"},{path:"gender",headerName:"Gender",render:val=>"female"===val?(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(_mui_icons_material__WEBPACK_IMPORTED_MODULE_3__.Z,{color:"success"}):(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(_mui_icons_material__WEBPACK_IMPORTED_MODULE_4__.Z,{color:"warning"})},{path:"money",headerName:"Money",align:"right",render:"money",sortable:!0,sum:!0,width:100},{path:"name",width:800,headerName:"Name",render:value=>(value.firstName||"")+" "+value.lastName},{path:"name.lastName",width:200,headerName:"LastName"},{path:"actions",width:150,headerName:"Actions",align:"right",render:(_,row,index,useTableReturn)=>1!==index&&(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.Fragment,{children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(UpdateRow,{disabled:0===index,updateRecord:useTableReturn.handleData.update,row,index}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(DeleteRow,{deleteRecord:useTableReturn.handleData.delete,index})]})}];function UpdateRow({index,row,updateRecord,disabled}){const[loading,setLoading]=react__WEBPACK_IMPORTED_MODULE_1__.useState(!1);return loading?(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(_mui_lab__WEBPACK_IMPORTED_MODULE_5__.Z,{loading:!0}):(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(_mui_material__WEBPACK_IMPORTED_MODULE_6__.Z,{title:"update firstname as Momo",children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(_mui_material__WEBPACK_IMPORTED_MODULE_7__.Z,{disabled,color:"success",onClick:async e=>{e.stopPropagation(),setLoading(!0),await sleep(1e3),setLoading(!1),updateRecord(index,{...row,name:{firstName:"Momo",lastName:row.name.lastName}})},children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(_mui_icons_material__WEBPACK_IMPORTED_MODULE_8__.Z,{})})})}function DeleteRow({index,deleteRecord}){const[loading,setLoading]=react__WEBPACK_IMPORTED_MODULE_1__.useState(!1);return loading?(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(_mui_lab__WEBPACK_IMPORTED_MODULE_5__.Z,{loading:!0}):(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(_mui_material__WEBPACK_IMPORTED_MODULE_6__.Z,{title:"update firstname as Momo",children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(_mui_material__WEBPACK_IMPORTED_MODULE_7__.Z,{color:"warning",onClick:async e=>{e.stopPropagation(),setLoading(!0),await sleep(1e3),setLoading(!1),deleteRecord(index)},children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(_mui_icons_material__WEBPACK_IMPORTED_MODULE_9__.Z,{})})})}function sleep(ms){return new Promise((resolve=>setTimeout(resolve,ms)))}}}]);